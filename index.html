
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mboa Market - Petites Annonces Gratuites au Cameroun</title>
    <meta name="description" content="Achetez et vendez gratuitement au Cameroun sur Mboa Market. Annonces auto, immobilier, emploi, services. Plateforme sécurisée et simple d'utilisation." />
    <meta name="author" content="Mboa Market" />
    <meta name="keywords" content="petites annonces, Cameroun, vendre, acheter, auto, immobilier, emploi, services, Douala, Yaoundé, gratuit" />

    <meta property="og:title" content="Mboa Market - Petites Annonces Gratuites au Cameroun" />
    <meta property="og:description" content="Achetez et vendez gratuitement au Cameroun sur Mboa Market. Annonces auto, immobilier, emploi, services. Plateforme sécurisée et simple d'utilisation." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@mboa_market" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <!-- DNS Prefetch for external domains -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
    
    <!-- Preconnect to critical domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Critical font preload -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"></noscript>
    
    <!-- Fallback fonts for faster initial render -->
    <style>
      /* Critical CSS for font fallbacks */
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }
      
      /* Prevent layout shift during font load */
      .font-inter {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      }

      /* Style pour l'animation de l'indicateur de debug */
      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }
    </style>
    
    <!-- DIAGNOSTIC ULTRA-PRÉCOCE -->
    <script>
      console.log("=== DIAGNOSTIC HTML DÉMARRÉ ===");
      
      // Créer un indicateur visuel immédiatement
      function createEarlyIndicator() {
        try {
          const indicator = document.createElement('div');
          indicator.id = 'early-debug-indicator';
          indicator.style.cssText = `
            position: fixed !important;
            top: 0 !important;
            right: 0 !important;
            width: 200px !important;
            height: 30px !important;
            background: #ff0000 !important;
            color: white !important;
            z-index: 999999 !important;
            font-family: monospace !important;
            font-size: 12px !important;
            text-align: center !important;
            line-height: 30px !important;
            pointer-events: all !important;
            cursor: pointer !important;
          `;
          indicator.textContent = 'HTML CHARGÉ - En attente JS';
          
          document.documentElement.appendChild(indicator);
          console.log("Early indicator created");
          
          // Test de clic pour diagnostic
          indicator.onclick = function() {
            const info = {
              time: new Date().toISOString(),
              userAgent: navigator.userAgent,
              viewport: window.innerWidth + 'x' + window.innerHeight,
              touch: 'ontouchstart' in window,
              children: document.body ? document.body.children.length : 'NO BODY'
            };
            alert('DIAGNOSTIC PRÉCOCE:\n' + JSON.stringify(info, null, 2));
          };
          
          return indicator;
        } catch (e) {
          console.error("Failed to create early indicator:", e);
          return null;
        }
      }
      
      // Capturer les erreurs très tôt
      window.onerror = function(msg, url, line, col, error) {
        console.error("ERREUR TRÈS PRÉCOCE:", msg, url, line, col, error);
        const indicator = document.getElementById('early-debug-indicator');
        if (indicator) {
          indicator.style.background = '#ff0000';
          indicator.textContent = 'ERREUR: ' + msg;
        }
        return false;
      };
      
      // DOMContentLoaded
      document.addEventListener('DOMContentLoaded', function() {
        console.log("DOM Content Loaded");
        const indicator = document.getElementById('early-debug-indicator') || createEarlyIndicator();
        if (indicator) {
          indicator.style.background = '#ff8800';
          indicator.textContent = 'DOM PRÊT - En attente React';
        }
      });
      
      // Window load
      window.addEventListener('load', function() {
        console.log("Window fully loaded");
        const indicator = document.getElementById('early-debug-indicator');
        if (indicator) {
          indicator.style.background = '#00ff00';
          indicator.textContent = 'TOUT CHARGÉ - React?';
        }
      });
      
      // Créer l'indicateur dès maintenant si possible
      if (document.documentElement) {
        createEarlyIndicator();
      }
    </script>
    
    <!-- Google Ads (AdSense) with async loading -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXXX"
            crossorigin="anonymous"></script>
  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
